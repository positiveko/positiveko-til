# 2023.05

## 5/6

### 일급함수 (first-class function)

- 일급함수는 **함수를 값으로 다룰 수 있는** 성질을 가진 함수.
- 함수를 변수에 할당하거나,

```js
const sum = function add(a, b) {
  return a + b;
};
// 화살표 함수로 하자면
const sum = (a, b) => a + b;
```

- 함수의 인자로 다른 함수를 전달하거나,

```js
const calculate = (a, b, operation) => operation(a, b);
```

- 함수에서 새로운 함수를 반환할 수 있는 함수를 일급함수라고 한다.

```js
const multiply = (x) => (y) => x * y;

const double = multiply(2);
console.log(double(5)); // 10
```

이런 일급함수는 함수형 프로그래밍에서 중요한 역할을 하는데, 함수를 값으로 다룰 수 있다는 성질 때문에 함수를 조합해서 새로운 함수를 만들거나, 함수를 추상화하여 코드의 재사용성을 높일 수 있다.

즉, 함수가 일급이라는 것은 함수의 결과값으로 함수를 사용할 수 있다는 걸 뜻하는데..

```js
const foo = () => () => 'foo';
console.log(foo()); // () => 'foo' (함수의 결과가 함수.)
```

함수가 일급이라는 성질을 이용해서 많은 조합성을 만들어내고 추상화의 도구로 사용하고 있음.

### 고차 함수 (Higher-order function)

**함수를 인자로 받거나, 함수를 반환하는 함수**를 고차 함수라고 한다.
일급 함수의 특성을 가진 언어에서 함수형 프로그래밍을 할 때, 고차 함수를 사용하면 코드의 재사용성과 추상화 수준을 높일 수 있다.

> **어플리케이티브 프로그래밍**
>
> - 계산을 값과 함수의 조합으로 표현.
> - 상태를 변경하는 명령형 프로그래밍과 달리, 값을 변환하고 반환하는 함수형 프로그래밍 방식을 채택.
> - 함수형 프로그래밍의 일종으로 주로 고차 함수, 클로저, 람다식, 커링 등의 개념이 사용.

- 함수를 인자로 받아서 실행하는 함수

```js
// 배열을 인자로 받아서 각 요소마다 함수를 실행하는 고차 함수
const map = (arr, fn) => arr.map(fn);

const numbers = [1, 2, 3, 4, 5];
const squaredNumbers = map(numbers, (x) => x * x);

console.log(squaredNumbers); // [1, 4, 9, 16, 25]
```

- 함수를 만들어 리턴하는 함수 (클로저를 만들어 리턴)

```js
// closer를 리턴하는 함수
const createMultiplier = (multiplier) => (number) => number * multiplier;
// createMultiplier 함수의 매개변수 multiplier를 내부 함수에서 참조하고 있기 때문에,
// 내부 함수는 클로저가 된다.

const double = createMultiplier(2);
console.log(double(5)); // 10

const triple = createMultiplier(3);
console.log(triple(5)); // 15
```

> **클로저**
>
> 클로저란 함수가 자신이 생성될 당시의 환경(lexical environment)을 기억하고, 이 환경에 속한 변수들에 접근할 수 있는 함수

## 5/9

### ES6의 이터레이션 프로토콜

과거 for문으로 리스트의 length를 이용해서 순회하던 방식에서, ES6에서는 for-of 구문으로 보다 선언적으로 순회하는 방식으로 간결하게 변경되었음.

복잡한 for문을 더 간결하게 만들었다는 의미 의외에도 더 큰 의미가 있음.

Array인 경우에는 키로 접근하지만 Set이나 Map의 경우 키로 접근할 수 없다는 걸 확인할 수 있음. 따라서 for-of 구문은 내부적으로 기존의 배열에 사용되는 for문처럼 키와 키에 매핑이된 값을 찾아내는 방식이 아니라는 것.

